<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸¸ë™ì´ì˜ ì½”ë”© ì¼ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* ë‹¤í¬ëª¨ë“œ ìŠ¤íƒ€ì¼ */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .header {
            background-color: #fff;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }

        body.dark-mode .header {
            background-color: #2d2d2d;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title {
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            transition: color 0.3s ease;
        }

        body.dark-mode .title {
            color: #e0e0e0;
        }

        .nav {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            list-style: none;
        }

        .nav-menu li a {
            text-decoration: none;
            color: #333;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.dark-mode .nav-menu li a {
            color: #e0e0e0;
        }

        .nav-menu li a:hover {
            background-color: #f0f0f0;
        }

        body.dark-mode .nav-menu li a:hover {
            background-color: #404040;
        }

        .nav-menu li a.active {
            background-color: #4a90e2;
            color: #fff;
        }

        body.dark-mode .nav-menu li a.active {
            background-color: #5ba0f2;
        }

        .dark-mode-toggle {
            background-color: #4a90e2;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s ease;
        }

        .dark-mode-toggle:hover {
            background-color: #357abd;
        }

        body.dark-mode .dark-mode-toggle {
            background-color: #5ba0f2;
        }

        body.dark-mode .dark-mode-toggle:hover {
            background-color: #4a90e2;
        }

        .font-size-controls {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .font-size-btn {
            background-color: #4a90e2;
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s ease;
            min-width: 40px;
        }

        .font-size-btn:hover {
            background-color: #357abd;
        }

        body.dark-mode .font-size-btn {
            background-color: #5ba0f2;
        }

        body.dark-mode .font-size-btn:hover {
            background-color: #4a90e2;
        }

        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .section {
            display: none;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .section.active {
            display: block;
        }

        body.dark-mode .section {
            background-color: #2d2d2d;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #333;
            transition: color 0.3s ease;
        }

        body.dark-mode .section-title {
            color: #e0e0e0;
        }

        .diary-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: #333;
            transition: color 0.3s ease;
        }

        body.dark-mode .form-group label {
            color: #e0e0e0;
        }

        .form-group input,
        .form-group textarea {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            font-family: inherit;
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea {
            background-color: #1a1a1a;
            border-color: #555;
            color: #e0e0e0;
        }

        .form-group textarea {
            min-height: 200px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4a90e2;
        }

        .submit-btn {
            background-color: #4a90e2;
            color: #fff;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            align-self: flex-start;
        }

        .submit-btn:hover {
            background-color: #357abd;
        }

        body.dark-mode .submit-btn {
            background-color: #5ba0f2;
        }

        body.dark-mode .submit-btn:hover {
            background-color: #4a90e2;
        }

        .diary-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .diary-item {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border-left: 4px solid #4a90e2;
        }

        .diary-item:hover {
            transform: translateX(5px);
            background-color: #f0f0f0;
        }

        body.dark-mode .diary-item {
            background-color: #1a1a1a;
            border-left-color: #5ba0f2;
        }

        body.dark-mode .diary-item:hover {
            background-color: #252525;
        }

        .diary-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .diary-item-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            transition: color 0.3s ease;
        }

        body.dark-mode .diary-item-title {
            color: #e0e0e0;
        }

        .diary-item-date {
            font-size: 0.9rem;
            color: #666;
            transition: color 0.3s ease;
        }

        body.dark-mode .diary-item-date {
            color: #999;
        }

        .diary-item-preview {
            color: #666;
            font-size: 0.95rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            transition: color 0.3s ease;
        }

        body.dark-mode .diary-item-preview {
            color: #999;
        }

        .diary-detail {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }

        .diary-detail.active {
            display: block;
        }

        body.dark-mode .diary-detail {
            background-color: #1a1a1a;
        }

        .diary-detail-content {
            white-space: pre-wrap;
            line-height: 1.8;
            color: #333;
            transition: color 0.3s ease;
        }

        body.dark-mode .diary-detail-content {
            color: #e0e0e0;
        }

        .close-btn {
            background-color: #ff6b6b;
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s ease;
        }

        .close-btn:hover {
            background-color: #ee5a5a;
        }

        .empty-message {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.1rem;
        }

        body.dark-mode .empty-message {
            color: #666;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .nav {
                width: 100%;
                justify-content: space-between;
            }

            .nav-menu {
                flex-wrap: wrap;
            }

            .title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1 class="title">ê¸¸ë™ì´ì˜ ì½”ë”© ì¼ê¸°</h1>
            <nav class="nav">
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link active" data-section="home">í™ˆ</a></li>
                    <li><a href="#" class="nav-link" data-section="write">ì¼ê¸°ì“°ê¸°</a></li>
                    <li><a href="#" class="nav-link" data-section="list">ëª©ë¡</a></li>
                </ul>
                <div class="font-size-controls">
                    <button class="font-size-btn" id="fontDecrease" title="ê¸€ì í¬ê¸° ì¤„ì´ê¸°">A-</button>
                    <button class="font-size-btn" id="fontIncrease" title="ê¸€ì í¬ê¸° ëŠ˜ë¦¬ê¸°">A+</button>
                </div>
                <button class="dark-mode-toggle" id="darkModeToggle">ğŸŒ™ ë‹¤í¬ëª¨ë“œ</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- í™ˆ ì„¹ì…˜ -->
        <section class="section active" id="home">
            <h2 class="section-title">í™ˆ</h2>
            <p>ê¸¸ë™ì´ì˜ ì½”ë”© ì¼ê¸°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</p>
            <p style="margin-top: 15px;">ì¼ê¸°ë¥¼ ì‘ì„±í•˜ê³  ì €ì¥ëœ ì¼ê¸°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </section>

        <!-- ì¼ê¸°ì“°ê¸° ì„¹ì…˜ -->
        <section class="section" id="write">
            <h2 class="section-title">ì¼ê¸°ì“°ê¸°</h2>
            <form class="diary-form" id="diaryForm">
                <div class="form-group">
                    <label for="diaryTitle">ì œëª©</label>
                    <input type="text" id="diaryTitle" name="title" required placeholder="ì¼ê¸° ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="diaryContent">ë‚´ìš©</label>
                    <textarea id="diaryContent" name="content" required placeholder="ì˜¤ëŠ˜ì˜ ì¼ê¸°ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”..."></textarea>
                </div>
                <button type="submit" class="submit-btn">ì €ì¥í•˜ê¸°</button>
            </form>
        </section>

        <!-- ëª©ë¡ ì„¹ì…˜ -->
        <section class="section" id="list">
            <h2 class="section-title">ì¼ê¸° ëª©ë¡</h2>
            <div class="diary-list" id="diaryList">
                <!-- ì¼ê¸° ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </section>
    </div>

    <script>
        // ë‹¤í¬ëª¨ë“œ ê¸°ëŠ¥
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;

        // ì €ì¥ëœ ë‹¤í¬ëª¨ë“œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        const savedDarkMode = localStorage.getItem('darkMode') === 'true';
        if (savedDarkMode) {
            body.classList.add('dark-mode');
            darkModeToggle.textContent = 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ';
        }

        // ë‹¤í¬ëª¨ë“œ í† ê¸€
        darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDarkMode = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            darkModeToggle.textContent = isDarkMode ? 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ' : 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ';
        });

        // í°íŠ¸ í¬ê¸° ì¡°ì ˆ ê¸°ëŠ¥
        const fontIncreaseBtn = document.getElementById('fontIncrease');
        const fontDecreaseBtn = document.getElementById('fontDecrease');
        
        // ê¸°ë³¸ í°íŠ¸ í¬ê¸° (100% = 1rem ê¸°ì¤€)
        let currentFontSize = parseFloat(localStorage.getItem('fontSize')) || 100;
        const minFontSize = 80; // ìµœì†Œ 80%
        const maxFontSize = 150; // ìµœëŒ€ 150%
        const fontSizeStep = 10; // í•œ ë²ˆì— 10%ì”© ì¡°ì ˆ

        // ì €ì¥ëœ í°íŠ¸ í¬ê¸° ì ìš©
        body.style.fontSize = currentFontSize + '%';

        // í°íŠ¸ í¬ê¸° ì¦ê°€
        fontIncreaseBtn.addEventListener('click', () => {
            if (currentFontSize < maxFontSize) {
                currentFontSize = Math.min(currentFontSize + fontSizeStep, maxFontSize);
                body.style.fontSize = currentFontSize + '%';
                localStorage.setItem('fontSize', currentFontSize);
            }
        });

        // í°íŠ¸ í¬ê¸° ê°ì†Œ
        fontDecreaseBtn.addEventListener('click', () => {
            if (currentFontSize > minFontSize) {
                currentFontSize = Math.max(currentFontSize - fontSizeStep, minFontSize);
                body.style.fontSize = currentFontSize + '%';
                localStorage.setItem('fontSize', currentFontSize);
            }
        });

        // ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ê¸°ëŠ¥
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetSection = link.getAttribute('data-section');

                // ëª¨ë“  ë§í¬ì™€ ì„¹ì…˜ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                navLinks.forEach(l => l.classList.remove('active'));
                sections.forEach(s => s.classList.remove('active'));

                // í´ë¦­í•œ ë§í¬ì™€ í•´ë‹¹ ì„¹ì…˜ì— active í´ë˜ìŠ¤ ì¶”ê°€
                link.classList.add('active');
                document.getElementById(targetSection).classList.add('active');

                // ëª©ë¡ ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•  ë•Œ ì¼ê¸° ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                if (targetSection === 'list') {
                    loadDiaryList();
                }
            });
        });

        // ì¼ê¸° ì €ì¥ ê¸°ëŠ¥ (localStorage)
        const diaryForm = document.getElementById('diaryForm');
        const diaryList = document.getElementById('diaryList');

        // ì¼ê¸° ì €ì¥
        diaryForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const title = document.getElementById('diaryTitle').value;
            const content = document.getElementById('diaryContent').value;
            const date = new Date().toLocaleString('ko-KR');

            // ìƒˆ ì¼ê¸° ê°ì²´ ìƒì„±
            const diary = {
                id: Date.now(),
                title: title,
                content: content,
                date: date
            };

            // localStorageì—ì„œ ê¸°ì¡´ ì¼ê¸° ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
            let diaries = JSON.parse(localStorage.getItem('diaries') || '[]');
            
            // ìƒˆ ì¼ê¸° ì¶”ê°€
            diaries.unshift(diary); // ìµœì‹  ì¼ê¸°ê°€ ìœ„ì— ì˜¤ë„ë¡
            
            // localStorageì— ì €ì¥
            localStorage.setItem('diaries', JSON.stringify(diaries));

            // í¼ ì´ˆê¸°í™”
            diaryForm.reset();

            // ì„±ê³µ ë©”ì‹œì§€
            alert('ì¼ê¸°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');

            // ëª©ë¡ ì„¹ì…˜ìœ¼ë¡œ ì´ë™
            navLinks.forEach(l => l.classList.remove('active'));
            sections.forEach(s => s.classList.remove('active'));
            document.querySelector('[data-section="list"]').classList.add('active');
            document.getElementById('list').classList.add('active');
            
            // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            loadDiaryList();
        });

        // ì¼ê¸° ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadDiaryList() {
            const diaries = JSON.parse(localStorage.getItem('diaries') || '[]');
            
            if (diaries.length === 0) {
                diaryList.innerHTML = '<div class="empty-message">ì €ì¥ëœ ì¼ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            diaryList.innerHTML = '';
            
            diaries.forEach(diary => {
                const diaryItem = document.createElement('div');
                diaryItem.className = 'diary-item';
                diaryItem.innerHTML = `
                    <div class="diary-item-header">
                        <div class="diary-item-title">${diary.title}</div>
                        <div class="diary-item-date">${diary.date}</div>
                    </div>
                    <div class="diary-item-preview">${diary.content.substring(0, 100)}${diary.content.length > 100 ? '...' : ''}</div>
                    <div class="diary-detail" id="detail-${diary.id}">
                        <div class="diary-detail-content">${diary.content}</div>
                        <button class="close-btn" onclick="closeDetail(${diary.id})">ë‹«ê¸°</button>
                    </div>
                `;
                
                // ì¼ê¸° í•­ëª© í´ë¦­ ì‹œ ìƒì„¸ ë‚´ìš© ë³´ê¸°
                diaryItem.addEventListener('click', (e) => {
                    // ë‹«ê¸° ë²„íŠ¼ í´ë¦­ì´ ì•„ë‹ ë•Œë§Œ
                    if (!e.target.classList.contains('close-btn')) {
                        const detail = diaryItem.querySelector('.diary-detail');
                        const allDetails = document.querySelectorAll('.diary-detail');
                        
                        // ë‹¤ë¥¸ ëª¨ë“  ìƒì„¸ ë‚´ìš© ë‹«ê¸°
                        allDetails.forEach(d => {
                            if (d !== detail) {
                                d.classList.remove('active');
                            }
                        });
                        
                        // í˜„ì¬ ìƒì„¸ ë‚´ìš© í† ê¸€
                        detail.classList.toggle('active');
                    }
                });
                
                diaryList.appendChild(diaryItem);
            });
        }

        // ìƒì„¸ ë‚´ìš© ë‹«ê¸° í•¨ìˆ˜
        function closeDetail(id) {
            const detail = document.getElementById(`detail-${id}`);
            if (detail) {
                detail.classList.remove('active');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¼ê¸° ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        loadDiaryList();
    </script>
</body>
</html>